<template>
  <div class="aside">
    <div class="nav1">商城APP</div>
    <div class="nav2">
      <img src="../../assets/image/蒙版组108.png" alt="" />
    </div>
    <div class="nav3">15058585631</div>
    <div class="nav4" @click="loginOut">
      <img class="pic1" src="../../assets/image/组191.png" alt="" />
      <div class="tit1">切换账号</div>
    </div>
    <div class="menu">
      <el-menu
        :default-active="menuActiveIndex"
        class="el-menu-vertical-demo"
        @select="selectopen"
        background-color="#ffffff"
        text-color="#9b9b9b"
        active-text-color="#EBBFCC"
        router
      >
        <el-submenu index="1">
          <template slot="title">
            <div class="one">
              <i
                :class="{ 'el-icon-house': true, active: activeIndex == 1 }"
              ></i>
              <!-- <img class="icon1" src="../../assets/image/路径406.png" alt="" /> -->
              <span :class="{ tit1: true, active: activeIndex == 1 }"
                >首页后台</span
              >
            </div>
          </template>
          <el-menu-item index="1-1" :route="{ name: 'Lunbotu' }"
            >轮播图上传</el-menu-item
          >
          <el-menu-item index="1-4" :route="{ name: 'Fenleiliebiao' }"
            >分类列表</el-menu-item
          >
          <el-menu-item index="1-6" :route="{ name: 'Guanggaoliebiao' }"
            >广告列表</el-menu-item
          >
          <el-menu-item index="1-2" :route="{ name: 'Haowushangjia' }"
            >好物上架</el-menu-item
          >
          <el-menu-item index="1-5" :route="{ name: 'Shangpinliebiao' }"
            >商品列表</el-menu-item
          >
          <el-menu-item index="1-3" :route="{ name: 'Yaoqinhaoyou' }"
            >邀请好友/佣金</el-menu-item
          >
          <el-menu-item index="1-7" :route="{ name: 'Wodetuandui' }"
            >我的团队</el-menu-item
          >
        </el-submenu>
        <el-submenu index="2">
          <template slot="title">
            <div class="one">
              <img
                class="icon1"
                v-if="activeIndex == 2"
                src="../../assets/image/组185active.png"
                alt=""
              />
              <img
                class="icon1"
                v-else
                src="../../assets/image/组185.png"
                alt=""
              />
              <span :class="{ tit1: true, active: activeIndex == 2 }"
                >免单界面后台</span
              >
            </div>
          </template>
          <el-menu-item index="2-1" :route="{ name: 'Quanptmiandanjilu' }"
            >全平台免单记录</el-menu-item
          >
          <el-menu-item index="2-4" :route="{ name: 'Miandanshibailiebiao' }"
            >免单失败列表</el-menu-item
          >
          <el-menu-item index="2-2" :route="{ name: 'Miandangouwu' }"
            >免单购物协议</el-menu-item
          >
          <el-menu-item index="2-3" :route="{ name: 'Miandankaiguan' }"
            >免单开关按钮</el-menu-item
          >
        </el-submenu>
        <el-submenu index="3">
          <template slot="title">
            <div class="one">
              <img
                class="icon1"
                v-if="activeIndex == 3"
                src="../../assets/image/组188active.png"
                alt=""
              />
              <img
                class="icon1"
                v-else
                src="../../assets/image/组188.png"
                alt=""
              />
              <span :class="{ tit1: true, active: activeIndex == 3 }"
                >我的后台</span
              >
            </div>
          </template>
          <el-menu-item index="3-1" :route="{ name: 'Edu' }"
            >提现列表</el-menu-item
          >
          <el-menu-item index="3-2" :route="{ name: 'Huowuzhuangtai' }"
            >货物状态</el-menu-item
          >
          <el-menu-item index="3-3" :route="{ name: 'Kefuxitong' }"
            >客服系统</el-menu-item
          >
          <el-menu-item index="3-4" :route="{ name: 'Xinshouzhinan' }"
            >新手指南</el-menu-item
          >
          <el-menu-item index="3-6" :route="{ name: 'Shouhouliebiao' }"
            >售后列表</el-menu-item
          >
          <el-menu-item index="3-5" :route="{ name: 'Houtaizhifupeizhi' }"
            >后台支付配置</el-menu-item
          >
        </el-submenu>
      </el-menu>
    </div>
  </div>
</template>

<script>
export default {
  watch: {
    $route(to) {
      console.log(to.path); //到哪去
      if (to.path == "/Lunbotu") {
        this.menuActiveIndex = "1-1";
      } else if (to.path == "/Haowushangjia") {
        this.menuActiveIndex = "1-2";
      } else if (to.path == "/Yaoqinhaoyou") {
        this.menuActiveIndex = "1-3";
      } else if (to.path == "/Fenleiliebiao") {
        this.menuActiveIndex = "1-4";
      } else if (to.path == "/Shangpinliebiao") {
        this.menuActiveIndex = "1-5";
      } else if (to.path == "/Shangpinliebiao") {
        this.menuActiveIndex = "1-6";
      } else if (to.path == "/Wodetuandui") {
        this.menuActiveIndex = "1-7";
      } else if (to.path == "/Miandan/Guanggaoliebiao") {
        this.menuActiveIndex = "2-1";
      } else if (to.path == "/Miandan/Miandangouwu") {
        this.menuActiveIndex = "2-2";
      } else if (to.path == "/Miandan/Miandankaiguan") {
        this.menuActiveIndex = "2-3";
      } else if (to.path == "/Miandan/Miandanshibailiebiao") {
        this.menuActiveIndex = "2-4";
      } else if (to.path == "/Wodehoutai/Edu") {
        this.menuActiveIndex = "3-1";
      } else if (to.path == "/Wodehoutai/Huowuzhuangtai") {
        this.menuActiveIndex = "3-2";
      } else if (to.path == "/Wodehoutai/Kefuxitong") {
        this.menuActiveIndex = "3-3";
      } else if (to.path == "/Wodehoutai/Xinshouzhinan") {
        this.menuActiveIndex = "3-4";
      } else if (to.path == "/Wodehoutai/Houtaizhifupeizhi") {
        this.menuActiveIndex = "3-5";
      } else if (to.path == "/Wodehoutai/Shouhouliebiao") {
        this.menuActiveIndex = "3-6";
      }
    },
  },
  data() {
    return {
      activeIndex: 0,
      menuActiveIndex: "",
    };
  },
  methods: {
    loginOut() {
      sessionStorage.setItem("token", null);
      sessionStorage.setItem("isLogin", null);
      this.$router.go(0);
      this.$router.push({ path: "/login" });
    },
    // handleOpen(key, keyPath) {
    //     console.log(key, keyPath);
    //   },
    selectopen(i, indexpath) {
      if (indexpath[0] == "1") {
        this.activeIndex = 1;
      } else if (indexpath[0] == "2") {
        this.activeIndex = 2;
      } else if (indexpath[0] == "3") {
        this.activeIndex = 3;
      }
    },
  },
};
</script>

<style lang="scss" scoped>
.aside {
  // overflow-x: hidden;
  .nav1 {
    width: 284px;
    height: 81px;
    opacity: 1;
    background: #ebbfcc;
    font-size: 30px;
    font-family: YouSheBiaoTiHei, YouSheBiaoTiHei-Regular;
    font-weight: 400;
    text-align: center;
    color: #ffffff;
    line-height: 81px;
  }
  .nav2 {
    margin: 36px auto 15px auto;
    width: 70px;
    height: 70px;
    opacity: 1;
    img {
      width: 100%;
      height: 100%;
    }
  }
  .nav3 {
    opacity: 1;
    font-size: 15px;
    font-family: PingFang SC, PingFang SC-Regular;
    font-weight: 400;
    text-align: center;
    color: #000000;
  }
  .nav4 {
    cursor: pointer;
    margin-top: 5px;
    margin-bottom: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    .pic1 {
      width: 14px;
      height: 14px;
      opacity: 1;
    }
    .tit1 {
      margin-left: 10px;
      opacity: 1;
      font-size: 12px;
      font-family: PingFang SC, PingFang SC-Regular;
      font-weight: 400;
      text-align: center;
      color: #9b9b9b;
    }
  }
  .menu {
    // /deep/ .el-submenu__title.active{
    //   background: red !important;
    // }
    .one {
      .icon1 {
        margin-left: 50px;
        width: 18px;
        height: 19px;
        opacity: 1;
      }
      .el-icon-house {
        margin-left: 48px;
        font-size: 24px;
        margin-right: -4px !important;
      }
      .el-icon-house.active {
        color: #ebbfcc;
      }
      .tit1 {
        margin-left: 15px;
        opacity: 1;
        font-size: 20px;
        font-family: PingFang SC, PingFang SC-Regular;
        font-weight: 400;
        text-align: center;
        color: #9b9b9b;
      }
      .tit1.active {
        color: #000000;
      }
    }
    // .one:hover{
    //   background: chocolate;
    // }
    .el-menu-item {
      padding-left: 83px !important;
      opacity: 1;
      font-size: 18px;
      font-family: PingFang SC, PingFang SC-Regular;
      font-weight: 400;
      color: #9b9b9b;
    }
  }
}
</style>